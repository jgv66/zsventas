<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button text=' '></ion-back-button>
        </ion-buttons>
        <img src="./assets/imgs/logo-zs.png" alt="" class="navbar-img">
        <ion-title>Menu de configuración</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-card>
        <!-- noi definido -->
        <ion-card-header *ngIf=" cliente.codigo === '' ">
            <ion-card-title class="ion-text-center">Cliente activo</ion-card-title>
            <ion-card-subtitle class="ion-text-center">(aun no definido)</ion-card-subtitle>
        </ion-card-header>
        <!-- definido -->
        <ion-card-header *ngIf=" cliente.codigo !== '' " style="padding-bottom: 1px;">
            <ion-card-title class="ion-text-center">Cliente activo
                <ion-button *ngIf=" usuario.esuncliente === false " fill="clear" (click)="opcionPuntos( $event )" style="margin-left: 20px;">
                    <ion-icon slot="icon-only" name="more" style="left: 0px;"></ion-icon>
                </ion-button>
            </ion-card-title>
            <ion-card-subtitle *ngIf=" cliente.codigo === '' " class="ion-text-center">(aun no definido)</ion-card-subtitle>
        </ion-card-header>
        <!--  -->
        <ion-list lines="none">
            <ion-grid fixed *ngIf=" baseLocal.cliente.codigo !== '' ">
                <ion-row class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Código:</ion-label>
                    </ion-col>
                    <ion-col size="3">
                        <ion-label><b>{{ cliente?.codigo }}</b></ion-label>
                    </ion-col>
                    <ion-col size="2.5" class="ion-text-right" *ngIf=" cliente.sucursal.trim() !== '' ">
                        <ion-label>Sucursal:</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-label><b>{{ cliente?.sucursal }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Razon Social:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b>{{ cliente?.razonsocial }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Dirección:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b>{{ cliente?.direccion }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Comuna:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b>{{ cliente?.comuna }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Ciudad:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b>{{ cliente?.ciudad }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row *ngIf=" cliente?.vendedor !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Vendedor:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b>{{ cliente?.vendedor }} {{ cliente?.nombrevendedor }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row *ngIf=" cliente?.listaprecios !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Lista:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b> ({{ cliente.listaprecios }}) {{ cliente?.nombrelista }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row *ngIf=" cliente?.email !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Email:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><b> {{ cliente?.email }}</b></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row *ngIf=" cliente?.telefonos !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Teléfonos:</ion-label>
                    </ion-col>
                    <ion-col size="8.7">
                        <ion-label><a href="tel:{{ cliente.telefonos }}"><b> {{ cliente?.telefonos }}</b></a></ion-label>
                    </ion-col>
                </ion-row>

                <ion-row *ngIf=" cliente?.marca !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Marca:</ion-label>
                    </ion-col>
                    <ion-col size="3.1">
                        <ion-label><b> {{ cliente?.marca }}</b></ion-label>
                    </ion-col>
                    <ion-col size="2.5" class="ion-text-right">
                        <ion-label>Modelo:</ion-label>
                    </ion-col>
                    <ion-col size="3.1">
                        <ion-label><b> {{ cliente?.modelo }}</b></ion-label>
                    </ion-col>
                </ion-row>
                <ion-row *ngIf=" cliente?.color !== '' || cliente?.anno !== '' " class="fs75">
                    <ion-col size="3.3" class="ion-text-right">
                        <ion-label>Color:</ion-label>
                    </ion-col>
                    <ion-col size="3.1">
                        <ion-label><b> {{ cliente?.color }}</b></ion-label>
                    </ion-col>
                    <ion-col size="2.5" class="ion-text-right">
                        <ion-label>Año:</ion-label>
                    </ion-col>
                    <ion-col size="3.1">
                        <ion-label><b> {{ cliente?.anno }}</b></ion-label>
                    </ion-col>
                </ion-row>

            </ion-grid>

            <ion-grid fixed>
                <ion-row>
                    <ion-col [size]="( baseLocal.cliente.codigo !== '' ) ? 4.5 : 7.5" *ngIf=" !usuario.esuncliente ">
                        <ion-button expand="block" size="small" (click)="buscarOtroCliente()">
                            <ion-icon slot="start" name="color-wand"></ion-icon>
                            Buscar cliente
                        </ion-button>
                    </ion-col>

                    <ion-col size="4.5" *ngIf=" baseLocal.cliente.codigo === '' && !usuario.esuncliente ">
                        <ion-button expand="block" size="small" (click)="crearClientes()">
                            <ion-icon slot="start" name="add"></ion-icon>
                            Crear cliente
                        </ion-button>
                    </ion-col>

                    <ion-col [size]=" usuario.esuncliente ? 7.5 : 4.5" *ngIf=" baseLocal.cliente.codigo !== '' " style="padding-left: 1px; padding-right: 1px;">
                        <ion-button expand="block" size="small" (click)="consultarImpagos( cliente )"> Pendientes </ion-button>
                    </ion-col>

                    <ion-col [size]=" usuario.esuncliente ? 4.5 : 3" *ngIf=" baseLocal.cliente.codigo !== '' ">
                        <ion-button expand="block" size="small" (click)="ultimosDocs( $event )">
                            <ion-icon slot="icon-only" name="pulse"></ion-icon>
                        </ion-button>
                    </ion-col>

                    <!-- <ion-col [size]="2" *ngIf=" baseLocal.cliente.codigo !== '' && !usuario.esuncliente " style="padding-left: 1px; padding-right: 1px;">
                        <ion-button expand="block" size="small" (click)="modifCliente()">
                            <ion-icon slot="icon-only" name="at"></ion-icon>
                        </ion-button>
                    </ion-col> -->

                </ion-row>
            </ion-grid>

        </ion-list>
    </ion-card>

    <ion-card style="top: 0px; margin-top: 10px; margin-bottom: 15px;" *ngIf=" usuario.esuncliente ">
        <ion-card-header (click)="toggleAccordion(1)">
            <ion-card-title class="ion-text-center">Filtros y vistas
                <ion-icon style="margin-left: 50px" mode="ios" [name]=" (collapsedFiltro) ? 'arrow-forward' : 'arrow-down' "></ion-icon>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content [ngClass]="{ 'collapsed': collapsedFiltro }" style="padding: 0px">
            <ion-list lines="none">
                <ion-item no-lines>
                    <ion-label>Ver imágenes</ion-label>
                    <ion-toggle name="config.imagenes" [(ngModel)]="config.imagenes"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Ver descripción ampliada</ion-label>
                    <ion-toggle name="config.descripcionamplia" [(ngModel)]="config.descripcionamplia"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Ver código técnico</ion-label>
                    <ion-toggle name="config.codigotecnico" [(ngModel)]="config.codigotecnico"></ion-toggle>
                </ion-item>
            </ion-list>
        </ion-card-content>
    </ion-card>

    <ion-card style="top: 0px; margin-top: 10px; margin-bottom: 15px;" *ngIf=" !usuario.esuncliente ">
        <ion-card-header (click)="toggleAccordion(1)">
            <ion-card-title class="ion-text-center">Filtros y vistas
                <ion-icon style="margin-left: 50px" mode="ios" [name]=" (collapsedFiltro) ? 'arrow-forward' : 'arrow-down' "></ion-icon>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content [ngClass]="{ 'collapsed': collapsedFiltro }" style="padding: 0px;">
            <ion-list lines="none">
                <ion-item no-lines>
                    <ion-label>Ver imágenes</ion-label>
                    <ion-toggle name="config.imagenes" [(ngModel)]="config.imagenes"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Ver descripción ampliada</ion-label>
                    <ion-toggle name="config.descripcionamplia" [(ngModel)]="config.descripcionamplia"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Ver código técnico</ion-label>
                    <ion-toggle name="config.codigotecnico" [(ngModel)]="config.codigotecnico"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Solo ver productos con stock</ion-label>
                    <ion-toggle name="config.soloconstock" [(ngModel)]="config.soloconstock"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Solo productos con importación</ion-label>
                    <ion-toggle name="config.soloverimport" [(ngModel)]="config.soloverimport"></ion-toggle>
                </ion-item>
                <ion-item no-lines>
                    <ion-label>Ocultar descuentos</ion-label>
                    <ion-toggle name="config.ocultardscto" [(ngModel)]="config.ocultardscto"></ion-toggle>
                </ion-item>
            </ion-list>
        </ion-card-content>
    </ion-card>

    <ion-card style="top: 0px; margin-top: 10px; margin-bottom: 10px;" *ngIf=" !usuario.esuncliente ">
        <ion-card-header (click)="toggleAccordion(2)">
            <ion-card-title class="ion-text-center">Modalidad
                <ion-icon style="margin-left: 50px" mode="ios" [name]=" (collapsedConfig) ? 'arrow-forward' : 'arrow-down' "></ion-icon>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content [ngClass]="{ 'collapsed': collapsedConfig }" style="padding: 0px;">
            <ion-list lines="none">
                <ion-grid style="font-size: 90%;">
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Modalidad</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.MODALIDAD }}</b></ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Sucursal</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.KOSU }}</b> {{ usuario.nombresuc }}</ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Bodega</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.BODEGA }}</b> {{ usuario.nombrebod }}</ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Lista</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.LISTAMODALIDAD }}</b> {{ usuario.nombrelista }}</ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Usuario</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.KOFU }}</b> {{ usuario.NOKOFU }}</ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3.3" class="ion-text-right">
                            <ion-label>Email</ion-label>
                        </ion-col>
                        <ion-col size="8.7">
                            <ion-label><b>{{ usuario.EMAIL }}</b></ion-label>
                        </ion-col>
                    </ion-row>
                </ion-grid>
                <ion-grid>
                    <ion-progress-bar type="indeterminate" *ngIf=" buscando "></ion-progress-bar>
                    <ion-row>
                        <ion-col size="6">
                            <ion-button expand="block" size="small" (click)="cambiarLista()">
                                <ion-icon slot="start" name="color-wand"></ion-icon>Cambiar lista</ion-button>
                        </ion-col>
                        <ion-col size="6">
                            <ion-button expand="block" size="small" (click)="cambiarBodega()">
                                <ion-icon slot="start" name="card"></ion-icon>Cambiar bodega</ion-button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-list>
        </ion-card-content>
    </ion-card>

    <ion-card style="top: 0px; margin-top: 10px; margin-bottom: 10px;">
        <ion-card-header (click)="toggleAccordion(3)">
            <ion-card-title class="ion-text-center">Orden al visualizar
                <ion-icon style="margin-left: 50px" mode="ios" [name]=" (collapsedOrden) ? 'arrow-forward' : 'arrow-down' "></ion-icon>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content [ngClass]="{ 'collapsed': collapsedOrden }" style="padding: 0px;">
            <ion-list lines="none">
                <ion-radio-group name="config.ordenar" [(ngModel)]="config.ordenar">
                    <ion-item>
                        <ion-label>Precio menor a mayor</ion-label>
                        <ion-radio value="preciomenormayor"></ion-radio>
                    </ion-item>
                    <ion-item>
                        <ion-label>Precio mayor a menor</ion-label>
                        <ion-radio value="preciomayormenor"></ion-radio>
                    </ion-item>
                    <ion-item>
                        <ion-label>Stock menor a mayor</ion-label>
                        <ion-radio value="stockmenormayor"></ion-radio>
                    </ion-item>
                    <ion-item>
                        <ion-label>Stock mayor a menor</ion-label>
                        <ion-radio value="stockmayormenor"></ion-radio>
                    </ion-item>
                    <ion-item>
                        <ion-label>Código del producto</ion-label>
                        <ion-radio value=""></ion-radio>
                    </ion-item>
                </ion-radio-group>
            </ion-list>
        </ion-card-content>
    </ion-card>

</ion-content>